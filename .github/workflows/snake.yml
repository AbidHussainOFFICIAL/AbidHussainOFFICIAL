      # Step 4: Update README with theme-aware GIF
      - name: Update README with Theme-aware Snake GIF
        run: |
          REPO_NAME="${GITHUB_REPOSITORY##*/}"
          USER_NAME="${GITHUB_REPOSITORY_OWNER}"
          LIGHT_GIF_URL="https://${USER_NAME}.github.io/${REPO_NAME}/ocean-light.gif"
          DARK_GIF_URL="https://${USER_NAME}.github.io/${REPO_NAME}/ocean-dark.gif"
          README_FILE="README.md"

          # Theme-aware GIF section (fixed YAML multiline)
          GIF_SECTION=$(cat <<'EOF'

<!-- SNAKE_GIF -->
<div align="center">
<h3>üêç GitHub Snake Animation</h3>
<p>Watch my GitHub contributions come alive!</p>
<picture>
  <source srcset="'${DARK_GIF_URL}'" media="(prefers-color-scheme: dark)">
  <img src="'${LIGHT_GIF_URL}'" alt="GitHub Snake" width="480" />
</picture>
</div>

EOF
)

          # Remove old GIF section if exists
          if grep -q "<!-- SNAKE_GIF -->" "$README_FILE"; then
            sed -i '/<!-- SNAKE_GIF -->/,/<\/div>/d' "$README_FILE"
          fi

          # Prepend new GIF section
          echo -e "$GIF_SECTION\n$(cat $README_FILE)" > "$README_FILE"

          # Commit changes if any
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add "$README_FILE"
          git commit -m "Update README with theme-aware snake GIF [skip ci]" || echo "No changes to commit"
          git push origin main
